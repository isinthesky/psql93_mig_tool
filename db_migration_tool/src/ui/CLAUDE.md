# UI 프리젠테이션 레이어

- **문서 경로**: `src/ui/CLAUDE.md`
- **레이어**: 프리젠테이션 (PySide6 UI)
- **역할**: 데스크톱 UI 구성요소의 책임과 코어 레이어와의 상호작용을 정리합니다.

## 책임 범위
- 사용자에게 연결 프로필, 마이그레이션 진행 상황, 로그를 시각적으로 제공합니다.
- PySide6 시그널/슬롯을 통해 코어 워커와 비동기 통신을 조율합니다.
- 다이얼로그를 통해 입력 검증과 단계별 설정을 지원합니다.

## 주요 구성요소
- `main_window.py`: 애플리케이션 메인 창. 프로필 목록, 이력 테이블, 툴바를 구성하고 사용자 이벤트를 처리합니다.
- `dialogs/connection_dialog.py`: 소스/대상 데이터베이스 연결 정보를 입력받고 검증합니다.
- `dialogs/migration_dialog.py`: 마이그레이션 옵션(날짜 범위, 파티션 선택 등)을 설정합니다.
- `dialogs/log_viewer_dialog.py`: 실시간 로그와 이력을 확인하는 창을 제공합니다.
- `widgets/`: 공용 커스텀 위젯을 배치하기 위한 디렉터리로, 필요 시 확장 가능합니다.

## 이벤트 흐름
1. `MainWindow`가 `ProfileManager`, `HistoryManager`를 이용해 초기 데이터를 채웁니다.
2. 사용자가 버튼을 누르면 대응하는 다이얼로그가 열리고, 입력이 완료되면 코어 워커 실행 시그널을 발행합니다.
3. 워커에서 발생한 진행률/로그 시그널을 받아 UI 요소를 업데이트하고, 사용자 조작(일시정지, 재개)을 워커에 전달합니다.

## 협력 모듈
- `src/models`: UI가 표시하는 데이터 모델과 CRUD 동작을 제공합니다.
- `src/core`: 마이그레이션 워커가 시그널을 통해 UI로 결과를 전달합니다.
- `src/utils.enhanced_logger`: UI 로그 창에 출력할 메시지 포맷팅을 담당합니다.
